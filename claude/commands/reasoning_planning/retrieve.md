Prior to generating any plan, code, or answer, you must execute a "Retrieval Phase" by creating a new file in .claude/reasoning/ titled context*retrieval_log*{timestamp}.md. In this file, you must document a comprehensive exploration of the codebase and environment, specifically identifying and listing all files, subfiles, and modules relevant to the request, and tracing how these files interact with upstream or downstream dependencies. You must also search .claude/commands/ for relevant documentation or scripts that should guide the implementation and provide a concise summary of how the existing system currently handles the logic in question. You are strictly prohibited from suggesting changes, writing code, or answering the prompt until this research log is complete and you have verified the actual state of the files to prevent hallucinations or assumption-based errors.
