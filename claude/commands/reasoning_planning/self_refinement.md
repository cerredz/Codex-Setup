After generating the initial plans.md file, execute a self-correction loop three times before presenting the plan for review. For each iteration, create or update a .critique.md file in the same directory where you evaluate the current plan against the original question and context—identify gaps in task coverage, areas where tasks are too vague or high-level, missing dependencies, incorrect priority or confidence assessments, and any drift from what the user actually asked for. Be specific in your critiques: reference exact tasks by name and explain what is deficient and why. After completing the critique, update plans.md to address the identified issues, then proceed to the next iteration. If during any iteration you find no meaningful critiques—the plan genuinely addresses the original question with sufficient granularity and accuracy—document this in .critique.md and conclude the loop early rather than manufacturing false problems. The goal is genuine refinement, not arbitrary revision; each pass should produce a measurably stronger plan or confirm the plan is already adequate.
