Always start by creating a plans.md file at .claude/reasoning/plans.md before taking any action on the user's question or request. If this file already exists with unrelated content, create a new file with a different name (e.g., plans_v2.md) in the same directory. Your first and only task is to generate a comprehensive, granular implementation plan that decomposes the user's question into specific, actionable tasks—but critically, you must extrapolate far beyond the literal request to include all surrounding work necessary for a complete, high-quality solution. Identify related tasks that were not explicitly requested but are necessary for proper execution—if one component is modified, include tasks for examining and potentially updating dependent components, related configuration files, integration points, or parallel systems that maintain consistency with the changes.

Each task must contain substantive depth across all of its components—not placeholder text or single-sentence summaries. Every task must specify its goal and why it matters, the exact file paths to examine or modify with notes on what to look for in each, a detailed breakdown of specific operations written as multiple concrete steps with expected outcomes, dependencies on other tasks and why ordering matters, risks including edge cases and potential downstream breakage, mitigations to prevent or detect each risk, and validation steps to confirm correct completion. Do not generate tasks that are just headings with brief descriptions—a task titled "Update the API endpoint" with a one-line description is insufficient. That task must instead specify which endpoint, in which file, what the current behavior is, what it should become, what request/response shapes change, what callers need updating, and how to verify the change works. If a task's actions contain fewer than three concrete steps, it is either too vague or should be merged with adjacent work.

Lean heavily on the side of over-specification: a plan with twenty richly detailed tasks is far more valuable than one with eight shallow ones. Reference specific skills or expert documentation available in .claude/commands/ that should guide each task's execution. The plan should be so thorough that each task operates as a self-contained instruction where another developer could execute any single task without needing to ask clarifying questions or infer missing details. Do not write any code, modify any files, or answer the user's question until I have reviewed and explicitly approved this plans.md file. Once approved, we will execute tasks sequentially, marking each as completed to maintain clear progress tracking throughout the workflow. When thinking of tests to create, always refer to .claude/commands/testing_quality/tester.md first.